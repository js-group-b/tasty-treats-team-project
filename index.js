const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hero-BIVW-IUc.css"])))=>i.map(i=>d[i]);
import{m as B}from"./assets/dark-theme-Mfn6QuNp.js";import{a as E}from"./assets/vendor-BhqcI0kQ.js";const x="https://tasty-treats-backend.p.goit.global/api/recipes?",m=new URLSearchParams({title:"",category:"",area:"",ingredient:"",time:"",page:1,limit:9});async function y(){try{const o=await(await E.get(x,{params:m})).data.results,a=document.querySelector(".cards-section-ul");let i=document.querySelector(".cards-section-content-div");const t=document.createElement("div");(!o||o.length===0)&&(t.className="no-results-message",t.innerHTML=`
         <img src="./favicon/mstile-150x150.png">
        <p>It appears that you haven't added any recipes to your favorites yet. 
        To get started, you can add recipes that you like to your favorites for easier access in the future.</p>`,i.appendChild(t));let r=localStorage.getItem("favorites");r===null&&(r=[]);const n=o.map(({preview:c,title:u,description:d,rating:p,_id:v})=>{let h="";for(let w=0;w<5;w++)w<Math.floor(p+.4)?h+='<img class="cards-section-card-bottom-div-rating-star" src="./img/star.png" alt="star" />':h+='<img class="cards-section-card-bottom-div-rating-star" src="./img/star-empty.png" alt="star" />';return`<li class="cards-section-card-items">
                       <div class="cards-section-card-item-inner-div">
                       
                            ${r.indexOf(v)>=0?`<svg id="svg__${v}"class="cards-section-favorites-button" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path id="path_${v}" fill-rule="evenodd" clip-rule="evenodd" d="M10.9934 4.70783C9.16066 2.5652 6.10444 1.98884 3.80814 3.95085C1.51185 5.91285 1.18856 9.19323 2.99186 11.5137C4.49117 13.443 9.02863 17.5121 10.5158 18.8291C10.6821 18.9764 10.7653 19.0501 10.8624 19.0791C10.9471 19.1043 11.0397 19.1043 11.1244 19.0791C11.2215 19.0501 11.3046 18.9764 11.471 18.8291C12.9582 17.5121 17.4956 13.443 18.9949 11.5137C20.7982 9.19323 20.5144 5.89221 18.1786 3.95085C15.8429 2.00948 12.8261 2.5652 10.9934 4.70783Z" fill="#F8F8F8"/>
                                </svg>`:`<svg id="svg__${v}" class="cards-section-favorites-button" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path id="path_${v}" opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M10.9934 4.70783C9.16066 2.5652 6.10444 1.98884 3.80814 3.95085C1.51185 5.91285 1.18856 9.19323 2.99186 11.5137C4.49117 13.443 9.02863 17.5121 10.5158 18.8291C10.6821 18.9764 10.7653 19.0501 10.8624 19.0791C10.9471 19.1043 11.0397 19.1043 11.1244 19.0791C11.2215 19.0501 11.3046 18.9764 11.471 18.8291C12.9582 17.5121 17.4956 13.443 18.9949 11.5137C20.7982 9.19323 20.5144 5.89221 18.1786 3.95085C15.8429 2.00948 12.8261 2.5652 10.9934 4.70783Z" stroke="#F8F8F8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>`}
                            
                           <img class="cards-section-card-image" style=" background: linear-gradient(rgba(5, 5, 5, .5), rgba(5, 5, 5, .5)), url(${c});" />
                           <div class="cards-section-card-content">
                               <h3 class="cards-section-card-content-title">${u.length<20?u.toUpperCase():u.toUpperCase().substring(0,20)+"..."}</h3>
                               <p class="cards-section-card-content-p">${d.substring(0,57)}...</p>
                               <div class="cards-section-card-bottom-div">
                                   <div class="cards-section-ratings-div">
                                        <p class="cards-section-card-bottom-div-rating-p">${p}</p>                 
                                        ${h}
                                   </div>
                                   <div class="cards-section-see-recipe-button-div">
                                       <button id="${v}" class="cards-section-see-recipe-button">See recipe</button>
                                   </div>
                               </div>
                           </div>
                       </div>
                   </li>`}).join("");a.innerHTML=n;const s=document.getElementsByClassName("cards-section-see-recipe-button");for(let c=0;c<s.length;c++)s[c].addEventListener("click",l);async function l(c){await B(c.target.id)}const g=document.getElementsByClassName("cards-section-favorites-button");for(let c=0;c<g.length;c++)g[c].addEventListener("click",f);async function f(c){const u=c.target.id.substring(5);let d=localStorage.getItem("favorites"),p;d===null?(d=[],d.push(u),p=JSON.stringify(d),localStorage.setItem("favorites",p),y()):d.indexOf(u)>=0?(p=localStorage.getItem("favorites"),d=await JSON.parse(p),d.splice(d.indexOf(u),1),p=JSON.stringify(d),localStorage.setItem("favorites",p),y()):(p=localStorage.getItem("favorites"),d=await JSON.parse(p),d.push(u),p=JSON.stringify(d),localStorage.removeItem("favorites"),localStorage.setItem("favorites",p),d=localStorage.getItem("favorites"),y())}}catch(e){console.log(e)}}y();const $="https://tasty-treats-backend.p.goit.global/api/categories?";async function A(){try{const e=`${$}`,a=(await E.get(e)).data,i=document.querySelector("#categories-list");i.innerHTML="",a.forEach(t=>{const r=document.createElement("li");r.textContent=t.name,r.setAttribute("data-id",t.id),r.setAttribute("tabindex","0"),i.appendChild(r),r.addEventListener("click",n=>{m.set("category",n.target.textContent),y(),n.target.focus()})})}catch(e){console.error("Error fetching categories:",e)}}A();const U=document.querySelector(".all-categories-btn");U.addEventListener("click",z);async function z(){m.set("category",""),await y()}const D="https://tasty-treats-backend.p.goit.global/api/recipes/popular";async function O(){try{const o=(await E.get(D)).data,a=document.querySelector(".popular-recipes-ul"),i=o.map(({preview:n,title:s,description:l,_id:g})=>`<li class="popular-recipes-li-element">
                        <!-- MAP ELEMENT START -->
                        <div class="pop-recipe-unit-div">
                            <img id="${g}" class="pop-recipe-img" src="${n}" alt="${s}"/>
                            <div class="pop-recipe-header-n-text-div">
                                <h3 class="popular-recipe-title">${s.toUpperCase()}</h3>
                                <p class="popular-recipe-text">${l.substring(0,77)}...</p>
                            </div>
                        </div>
                        <!-- MAP ELEMENT END -->
                    </li>     `).join("");a.innerHTML=i;const t=document.getElementsByClassName("pop-recipe-img");for(let n=0;n<t.length;n++)t[n].addEventListener("click",r);async function r(n){await B(n.target.id)}}catch(e){console.log(e)}}O();document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("orderModal"),o=document.getElementById("openModal"),a=document.getElementById("closeModal"),i=document.getElementById("imitation");if(!e||!o||!a){console.error("Modal veya butonlar bulunamadı!");return}function t(l){l.preventDefault(),e.style.display="flex",document.addEventListener("keydown",n),e.addEventListener("click",s)}function r(){e.style.display="none",document.removeEventListener("keydown",n),e.removeEventListener("click",s)}function n(l){l.key==="Escape"&&r()}function s(l){l.target===e&&r()}o.addEventListener("click",t),a.addEventListener("click",r),i.addEventListener("click",t)});const R="modulepreload",F=function(e){return"/tasty-treats-team-project/"+e},C={},N=function(o,a,i){let t=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),s=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));t=Promise.allSettled(a.map(l=>{if(l=F(l),l in C)return;C[l]=!0;const g=l.endsWith(".css"),f=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const c=document.createElement("link");if(c.rel=g?"stylesheet":R,g||(c.as="script"),c.crossOrigin="",c.href=l,s&&c.setAttribute("nonce",s),document.head.appendChild(c),g)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(n){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=n,window.dispatchEvent(s),!s.defaultPrevented)throw n}return t.then(n=>{for(const s of n||[])s.status==="rejected"&&r(s.reason);return o().catch(r)})};async function P(){try{const o=await(await E.get("https://tasty-treats-backend.p.goit.global/api/events")).data,a=document.querySelector(".chef1png");a.src=o[0].cook.imgUrl;const i=document.querySelector(".plate1png");i.src=o[0].topic.previewUrl;const t=document.querySelector(".platezoom1png");t.src=o[0].topic.imgUrl;const r=document.querySelector(".chef2png");r.src=o[1].cook.imgUrl;const n=document.querySelector(".pizzapicturepng");n.src=o[1].topic.previewUrl;const s=document.querySelector(".pizzapicturezoompng");s.src=o[1].topic.imgUrl;const l=document.querySelector(".chef3png");l.src=o[2].cook.imgUrl;const g=document.querySelector(".piepng");g.src=o[2].topic.previewUrl;const f=document.querySelector(".pizezoompng");f.src=o[2].topic.imgUrl}catch(e){console.error("Veri çekme sırasında bir hata oluştu:",e)}}P();document.addEventListener("DOMContentLoaded",function(){setTimeout(()=>{N(()=>Promise.resolve({}),__vite__mapDeps([0])).then(()=>{const e=document.querySelector(".header-chefs-main"),o=document.querySelectorAll(".slide"),a=document.querySelectorAll(".lazy-image"),i=document.querySelector(".slide-button");let t=0,r=100;(()=>{const u=new IntersectionObserver((d,p)=>{d.forEach(v=>{if(v.isIntersecting){const h=v.target;h.src=imageArr[Number(h.dataset.src)-1],h.classList.remove("lazy-image"),p.unobserve(h)}})},{threshold:.1});a.forEach(d=>u.observe(d))})(),o.forEach((u,d)=>{const p=document.createElement("div");p.classList.add("indicator"),p.addEventListener("click",()=>f(d)),i.appendChild(p)});const s=document.querySelectorAll(".indicator");function l(){e.style.transform=`translateX(-${t*r}%)`,g()}function g(){s.forEach((u,d)=>{d===t?u.classList.add("active"):u.classList.remove("active")})}function f(u){t=u,l()}function c(){const u=e.offsetWidth;window.innerWidth>=1280?r=602/u*100:window.innerWidth>=768&&window.innerWidth<945?r=u/1/u*100:r=100,l()}c(),l(),window.addEventListener("resize",c),setInterval(()=>{t=(t+1)%o.length,l()},5e3)}).catch(e=>{console.error("CSS yüklenirken bir hata oluştu:",e)})},100)});const M="https://tasty-treats-backend.p.goit.global/api/ingredients",H="https://tasty-treats-backend.p.goit.global/api/areas";_();j();const L=(e,o)=>{e.addEventListener("click",()=>{const a=document.getElementById(o);a?a.classList.toggle("filter-hidden-dropdown"):console.error(`Element with ID "${o}" not found.`)})},k=(e,o)=>{document.querySelectorAll(e).forEach(i=>{i.addEventListener("click",()=>{const t=i.textContent,r=document.getElementById(o),n=i.closest(".filter-custom-select-container").querySelector(".filter-custom-select-trigger");if(r){if(r.textContent=t,r.id==="time-trigger-text"){let s=t.trim().substring(0,3);s[2]==" "&&(s=s.substring(0,2)),s[2]=="m"&&(s=s.substring(0,1)),m.set("time",s),y()}if(r.id==="area-trigger-text"&&(m.set("area",t.trim()),y()),r.id==="ingredient-trigger-text"){async function s(){const f=await(await E.get(M)).data;for(let c=0;c<f.length;c++)if(f[c].name==t.trim())return f[c]._id}async function l(){const g=await s();m.set("ingredient",g),y()}l()}}n&&n.classList.add("selected"),i.closest(".filter-custom-select-container").querySelector("ul").classList.add("filter-hidden-dropdown")})})};async function _(){try{const o=(await E.get(M)).data;if(!Array.isArray(o))throw new Error("Invalid data format");const a=o.map(({name:t,_id:r})=>`
        <li id="product_${r}" data-ingredient="${r}" data-name="ingredient" class="option ingredient-li">
          ${t}
        </li>`).join(""),i=document.getElementById("ingredient-options");if(i){i.innerHTML=a;const t=document.getElementById("ingredient-trigger");t&&L(t,"ingredient-options"),k("#ingredient-options .option","ingredient-trigger-text")}else console.error('Element with ID "ingredient-options" not found.')}catch(e){console.error("Error fetching ingredients:",e)}}async function j(){try{const o=(await E.get(H)).data;if(!Array.isArray(o))throw new Error("Invalid data format");const a=o.map(({name:t,_id:r})=>`<li data-area="${r}" data-name="area" class="option">${t}</li>`).join(""),i=document.getElementById("area-options");if(i){i.insertAdjacentHTML("beforeend",a);const t=document.getElementById("area-trigger");t&&L(t,"area-options"),k("#area-options .option","area-trigger-text")}}catch(e){console.error("Error fetching regions:",e)}}const W=Array.from({length:24},(e,o)=>(o+1)*5),J=W.map(e=>`
    <li data-time="${e}" data-name="time" class="option">
      ${e} min
    </li>`).join(""),I=document.getElementById("time-options");if(I){I.insertAdjacentHTML("beforeend",J);const e=document.getElementById("time-trigger");e&&L(e,"time-options"),k("#time-options .option","time-trigger-text")}else console.error('Element with ID "time-options" not found.');const T=document.getElementById("reset-filter-btn");T&&T.addEventListener("click",()=>{const e=document.getElementById("search");e&&(e.value="",m.set("title",""),m.set("category",""),m.set("area",""),m.set("ingredient",""),m.set("time",""),y()),document.querySelectorAll(".filter-custom-select-trigger").forEach(i=>{i.classList.remove("selected");const t=i.querySelector("span");t&&(t.textContent="Select")}),document.querySelectorAll(".filter-options").forEach(i=>{i.classList.add("filter-hidden-dropdown")})});const b=document.querySelector(".filter-search-input");let q;const V=300;b.addEventListener("keyup",()=>{clearTimeout(q),b.value&&(q=setTimeout(Y,V))});async function Y(){m.set("title",b.value),await y()}const S=document.getElementById("scroll-page-up");function Z(){window.scrollY>350?S.style.display="block":S.style.display="none"}function G(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",Z);S.addEventListener("click",e=>G(e));document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".mob-menu-btn"),o=document.querySelector(".mob-menu-btn-close"),a=document.querySelector(".mobile-menu"),i=document.querySelectorAll(".mobile-menu a");function t(){a.classList.add("open"),i.forEach(n=>n.style.color="white")}function r(){a.classList.remove("open")}e.addEventListener("click",function(n){n.preventDefault(),t()}),o.addEventListener("click",function(n){n.preventDefault(),r()}),i.forEach(n=>{n.addEventListener("click",function(){r()})})});
//# sourceMappingURL=index.js.map
