const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hero-BIVW-IUc.css"])))=>i.map(i=>d[i]);
import{M as B}from"./assets/dark-theme-BoQn0nBT.js";import{a as h}from"./assets/vendor-BhqcI0kQ.js";const x="https://tasty-treats-backend.p.goit.global/api/recipes?",m=new URLSearchParams({title:"",category:"",area:"",ingredient:"",time:"",page:1,limit:9});async function f(){try{const n=await(await h.get(x,{params:m})).data.results,g=document.querySelector(".cards-section-ul");let a=localStorage.getItem("favorites");a===null&&(a=[]);const t=n.map(({preview:l,title:p,description:s,rating:d,_id:u})=>{let y="";for(let v=0;v<5;v++)v<Math.floor(d+.4)?y+='<img class="cards-section-card-bottom-div-rating-star" src="./img/star.png" alt="star" />':y+='<img class="cards-section-card-bottom-div-rating-star" src="./img/star-empty.png" alt="star" />';return`<li class="cards-section-card-items">
                       <div class="cards-section-card-item-inner-div">
                       
                            ${a.indexOf(u)>=0?`<svg id="svg__${u}"class="cards-section-favorites-button" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path id="path_${u}" fill-rule="evenodd" clip-rule="evenodd" d="M10.9934 4.70783C9.16066 2.5652 6.10444 1.98884 3.80814 3.95085C1.51185 5.91285 1.18856 9.19323 2.99186 11.5137C4.49117 13.443 9.02863 17.5121 10.5158 18.8291C10.6821 18.9764 10.7653 19.0501 10.8624 19.0791C10.9471 19.1043 11.0397 19.1043 11.1244 19.0791C11.2215 19.0501 11.3046 18.9764 11.471 18.8291C12.9582 17.5121 17.4956 13.443 18.9949 11.5137C20.7982 9.19323 20.5144 5.89221 18.1786 3.95085C15.8429 2.00948 12.8261 2.5652 10.9934 4.70783Z" fill="#F8F8F8"/>
                                </svg>`:`<svg id="svg__${u}" class="cards-section-favorites-button" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path id="path_${u}" opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M10.9934 4.70783C9.16066 2.5652 6.10444 1.98884 3.80814 3.95085C1.51185 5.91285 1.18856 9.19323 2.99186 11.5137C4.49117 13.443 9.02863 17.5121 10.5158 18.8291C10.6821 18.9764 10.7653 19.0501 10.8624 19.0791C10.9471 19.1043 11.0397 19.1043 11.1244 19.0791C11.2215 19.0501 11.3046 18.9764 11.471 18.8291C12.9582 17.5121 17.4956 13.443 18.9949 11.5137C20.7982 9.19323 20.5144 5.89221 18.1786 3.95085C15.8429 2.00948 12.8261 2.5652 10.9934 4.70783Z" stroke="#F8F8F8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>`}
                            
                           <img class="cards-section-card-image" style=" background: linear-gradient(rgba(5, 5, 5, .5), rgba(5, 5, 5, .5)), url(${l});" />
                           <div class="cards-section-card-content">
                               <h3 class="cards-section-card-content-title">${p.length<20?p.toUpperCase():p.toUpperCase().substring(0,20)+"..."}</h3>
                               <p class="cards-section-card-content-p">${s.substring(0,57)}...</p>
                               <div class="cards-section-card-bottom-div">
                                   <div class="cards-section-ratings-div">
                                        <p class="cards-section-card-bottom-div-rating-p">${d}</p>                 
                                        ${y}
                                   </div>
                                   <div class="cards-section-see-recipe-button-div">
                                       <button id="${u}" class="cards-section-see-recipe-button">See recipe</button>
                                   </div>
                               </div>
                           </div>
                       </div>
                   </li>`}).join("");g.innerHTML=t;const r=document.getElementsByClassName("cards-section-see-recipe-button");for(let l=0;l<r.length;l++)r[l].addEventListener("click",o);async function o(l){await B(l.target.id)}const i=document.getElementsByClassName("cards-section-favorites-button");for(let l=0;l<i.length;l++)i[l].addEventListener("click",c);async function c(l){const p=l.target.id.substring(5);let s=localStorage.getItem("favorites"),d;s===null?(s=[],s.push(p),d=JSON.stringify(s),localStorage.setItem("favorites",d),f()):s.indexOf(p)>=0?(d=localStorage.getItem("favorites"),s=await JSON.parse(d),s.splice(s.indexOf(p),1),d=JSON.stringify(s),localStorage.setItem("favorites",d),f()):(d=localStorage.getItem("favorites"),s=await JSON.parse(d),s.push(p),d=JSON.stringify(s),localStorage.removeItem("favorites"),localStorage.setItem("favorites",d),s=localStorage.getItem("favorites"),f())}}catch(e){console.log(e)}}f();const q="https://tasty-treats-backend.p.goit.global/api/categories?";async function M(){try{const e=`${q}`,g=(await h.get(e)).data,a=document.querySelector("#categories-list");a.innerHTML="",g.forEach(t=>{const r=document.createElement("li");r.textContent=t.name,r.setAttribute("data-id",t.id),r.setAttribute("tabindex","0"),a.appendChild(r),r.addEventListener("click",o=>{m.set("category",o.target.textContent),f(),o.target.focus()})})}catch(e){console.error("Error fetching categories:",e)}}M();const U=document.querySelector(".all-categories-btn");U.addEventListener("click",A);async function A(){m.set("category",""),await f()}const z="https://tasty-treats-backend.p.goit.global/api/recipes/popular";async function O(){try{const n=(await h.get(z)).data,g=document.querySelector(".popular-recipes-ul"),a=n.map(({preview:o,title:i,description:c,_id:l})=>`<li class="popular-recipes-li-element">
                        <!-- MAP ELEMENT START -->
                        <div class="pop-recipe-unit-div">
                            <img id="${l}" class="pop-recipe-img" src="${o}" alt="${i}"/>
                            <div class="pop-recipe-header-n-text-div">
                                <h3 class="popular-recipe-title">${i.toUpperCase()}</h3>
                                <p class="popular-recipe-text">${c.substring(0,77)}...</p>
                            </div>
                        </div>
                        <!-- MAP ELEMENT END -->
                    </li>     `).join("");g.innerHTML=a;const t=document.getElementsByClassName("pop-recipe-img");for(let o=0;o<t.length;o++)t[o].addEventListener("click",r);async function r(o){await B(o.target.id)}}catch(e){console.log(e)}}O();document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("orderModal"),n=document.getElementById("openModal"),g=document.getElementById("closeModal"),a=document.getElementById("imitation");if(!e||!n||!g){console.error("Modal veya butonlar bulunamadı!");return}function t(c){c.preventDefault(),e.style.display="flex",document.addEventListener("keydown",o),e.addEventListener("click",i)}function r(){e.style.display="none",document.removeEventListener("keydown",o),e.removeEventListener("click",i)}function o(c){c.key==="Escape"&&r()}function i(c){c.target===e&&r()}n.addEventListener("click",t),g.addEventListener("click",r),a.addEventListener("click",t)});const R="modulepreload",D=function(e){return"/tasty-treats-team-project/"+e},k={},F=function(n,g,a){let t=Promise.resolve();if(g&&g.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));t=Promise.allSettled(g.map(c=>{if(c=D(c),c in k)return;k[c]=!0;const l=c.endsWith(".css"),p=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const s=document.createElement("link");if(s.rel=l?"stylesheet":R,l||(s.as="script"),s.crossOrigin="",s.href=c,i&&s.setAttribute("nonce",i),document.head.appendChild(s),l)return new Promise((d,u)=>{s.addEventListener("load",d),s.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return t.then(o=>{for(const i of o||[])i.status==="rejected"&&r(i.reason);return n().catch(r)})};async function P(){try{const n=await(await h.get("https://tasty-treats-backend.p.goit.global/api/events")).data,g=document.querySelector(".chef1png");g.src=n[0].cook.imgUrl;const a=document.querySelector(".plate1png");a.src=n[0].topic.previewUrl;const t=document.querySelector(".platezoom1png");t.src=n[0].topic.imgUrl;const r=document.querySelector(".chef2png");r.src=n[1].cook.imgUrl;const o=document.querySelector(".pizzapicturepng");o.src=n[1].topic.previewUrl;const i=document.querySelector(".pizzapicturezoompng");i.src=n[1].topic.imgUrl;const c=document.querySelector(".chef3png");c.src=n[2].cook.imgUrl;const l=document.querySelector(".piepng");l.src=n[2].topic.previewUrl;const p=document.querySelector(".pizezoompng");p.src=n[2].topic.imgUrl}catch(e){console.error("Veri çekme sırasında bir hata oluştu:",e)}}P();document.addEventListener("DOMContentLoaded",function(){setTimeout(()=>{F(()=>Promise.resolve({}),__vite__mapDeps([0])).then(()=>{const e=document.querySelector(".header-chefs-main"),n=document.querySelectorAll(".slide"),g=document.querySelectorAll(".lazy-image"),a=document.querySelector(".slide-button");let t=0,r=100;(()=>{const d=new IntersectionObserver((u,y)=>{u.forEach(v=>{if(v.isIntersecting){const E=v.target;E.src=imageArr[Number(E.dataset.src)-1],E.classList.remove("lazy-image"),y.unobserve(E)}})},{threshold:.1});g.forEach(u=>d.observe(u))})(),n.forEach((d,u)=>{const y=document.createElement("div");y.classList.add("indicator"),y.addEventListener("click",()=>p(u)),a.appendChild(y)});const i=document.querySelectorAll(".indicator");function c(){e.style.transform=`translateX(-${t*r}%)`,l()}function l(){i.forEach((d,u)=>{u===t?d.classList.add("active"):d.classList.remove("active")})}function p(d){t=d,c()}function s(){const d=e.offsetWidth;window.innerWidth>=1280?r=602/d*100:window.innerWidth>=768&&window.innerWidth<945?r=d/1/d*100:r=100,c()}s(),c(),window.addEventListener("resize",s),setInterval(()=>{t=(t+1)%n.length,c()},5e3)}).catch(e=>{console.error("CSS yüklenirken bir hata oluştu:",e)})},100)});const $="https://tasty-treats-backend.p.goit.global/api/ingredients",H="https://tasty-treats-backend.p.goit.global/api/areas";N();_();const b=(e,n)=>{e.addEventListener("click",()=>{const g=document.getElementById(n);g?g.classList.toggle("filter-hidden-dropdown"):console.error(`Element with ID "${n}" not found.`)})},L=(e,n)=>{document.querySelectorAll(e).forEach(a=>{a.addEventListener("click",()=>{const t=a.textContent,r=document.getElementById(n),o=a.closest(".filter-custom-select-container").querySelector(".filter-custom-select-trigger");if(r){if(r.textContent=t,r.id==="time-trigger-text"){let i=t.trim().substring(0,3);i[2]==" "&&(i=i.substring(0,2)),i[2]=="m"&&(i=i.substring(0,1)),m.set("time",i),f()}if(r.id==="area-trigger-text"&&(m.set("area",t.trim()),f()),r.id==="ingredient-trigger-text"){async function i(){const p=await(await h.get($)).data;for(let s=0;s<p.length;s++)if(p[s].name==t.trim())return p[s]._id}async function c(){const l=await i();m.set("ingredient",l),f()}c()}}o&&o.classList.add("selected"),a.closest(".filter-custom-select-container").querySelector("ul").classList.add("filter-hidden-dropdown")})})};async function N(){try{const n=(await h.get($)).data;if(!Array.isArray(n))throw new Error("Invalid data format");const g=n.map(({name:t,_id:r})=>`
        <li id="product_${r}" data-ingredient="${r}" data-name="ingredient" class="option ingredient-li">
          ${t}
        </li>`).join(""),a=document.getElementById("ingredient-options");if(a){a.innerHTML=g;const t=document.getElementById("ingredient-trigger");t&&b(t,"ingredient-options"),L("#ingredient-options .option","ingredient-trigger-text")}else console.error('Element with ID "ingredient-options" not found.')}catch(e){console.error("Error fetching ingredients:",e)}}async function _(){try{const n=(await h.get(H)).data;if(!Array.isArray(n))throw new Error("Invalid data format");const g=n.map(({name:t,_id:r})=>`<li data-area="${r}" data-name="area" class="option">${t}</li>`).join(""),a=document.getElementById("area-options");if(a){a.insertAdjacentHTML("beforeend",g);const t=document.getElementById("area-trigger");t&&b(t,"area-options"),L("#area-options .option","area-trigger-text")}}catch(e){console.error("Error fetching regions:",e)}}const j=Array.from({length:24},(e,n)=>(n+1)*5),W=j.map(e=>`
    <li data-time="${e}" data-name="time" class="option">
      ${e} min
    </li>`).join(""),C=document.getElementById("time-options");if(C){C.insertAdjacentHTML("beforeend",W);const e=document.getElementById("time-trigger");e&&b(e,"time-options"),L("#time-options .option","time-trigger-text")}else console.error('Element with ID "time-options" not found.');const I=document.getElementById("reset-filter-btn");I&&I.addEventListener("click",()=>{const e=document.getElementById("search");e&&(e.value="",m.set("title",""),m.set("category",""),m.set("area",""),m.set("ingredient",""),m.set("time",""),f()),document.querySelectorAll(".filter-custom-select-trigger").forEach(a=>{a.classList.remove("selected");const t=a.querySelector("span");t&&(t.textContent="Select")}),document.querySelectorAll(".filter-options").forEach(a=>{a.classList.add("filter-hidden-dropdown")})});const w=document.querySelector(".filter-search-input");let T,J=300;w.addEventListener("keyup",()=>{clearTimeout(T),w.value&&(T=setTimeout(V,J))});async function V(){m.set("title",w.value),await f()}const S=document.getElementById("scroll-page-up");function Z(){window.scrollY>350?S.style.display="block":S.style.display="none"}function K(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",Z);S.addEventListener("click",e=>K(e));
//# sourceMappingURL=index.js.map
