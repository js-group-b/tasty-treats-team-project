{"version":3,"file":"dark-theme-BfWPDguG.js","sources":["../../src/partials/js/see-recipes-modal.js","../../src/partials/js/init.js","../../src/partials/js/dark-theme.js"],"sourcesContent":["import axios from 'axios';\n// import { HandleClickHerthIcon } from './cards.js';\n\nconst popularRecipesImg = document.querySelectorAll(\".pop-recipe-img\");\n\npopularRecipesImg.forEach((img) => {\n  img.addEventListener('click', handleClickSeeRecipesButton);\n});\n\nasync function handleClickSeeRecipesButton(event) {\n  // console.log(\"Tıklanan tarifin id'si:\", event.target.id);\n  let getRecipeByIdURL = `https://tasty-treats-backend.p.goit.global/api/recipes/${event.target.id}`;\n  const responseRecipe = await axios.get(getRecipeByIdURL);\n  const recipeData = responseRecipe.data;\n  // console.log(\"Tıklanan tarife ait modal'da kullanılacak data:\", recipeData);\n\n  document.querySelector(\"#id=see-recipes-modal-name\").innerText = recipeData.title.toUpperCase();\n\n  let youtubeUrl = recipeData.youtube;\n  let embedUrl = youtubeUrl.replace(\"watch?v=\", \"embed/\");\n\n  document.querySelector(\"#see-recipes-modal-video\").innerHTML = `\n    <iframe src=\"${embedUrl}\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n  `;\n\n  document.querySelector(\"#see-recipes-modal-tags\").innerText = recipeData.category;\n  document.querySelector(\"#see-recipes-modal-rating\").innerText = recipeData.rating;\n  document.querySelector(\"#see-recipes-modal-time\").innerText = `${recipeData.time} min`;\n  document.querySelector(\"#see-recipes-modal-material\").innerText = recipeData.ingredients.join(', ');\n  document.querySelector(\"#see-recipes-modal-instructions\").innerText = recipeData.instructions;\n\n}\n\nexport async function makeSeeRecipeModalVisible(recipeID) {\n  const modal = document.querySelector('#see-recipes-modal-form');\n  const recipeId = recipeID;\n  const recpieURL = `https://tasty-treats-backend.p.goit.global/api/recipes/${recipeId}`;\n  const response = await axios.get(recpieURL);\n  const seeRecipesContent = document.querySelector(\".see-recipes-modal-content\");\n\n  let youtubeUrl = response.data.youtube;\n  let embedUrl = youtubeUrl.replace(\"watch?v=\", \"embed/\");\n\n  // console.log(response.data);\n\n  const ingredientsHTML = response.data.ingredients.map(ingredient => {\n    return `\n      <div class=\"ingredient\">\n        <span class=\"ingredient-name\">${ingredient.name}</span>\n        <span class=\"ingredient-amount\">${ingredient.measure}</span>\n      </div>\n    `;\n  }).join('');\n\n  const modalInnerHTML =\n    `<div>\n        <h2 id=\"see-recipes-modal-name-tablet-desktop\">${response.data.title.toUpperCase()}</h2>\n       <div id=\"see-recipes-modal-video\">\n          <iframe src=\"${embedUrl}\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n       </div>\n       <h2 id=\"see-recipes-modal-name-mobil\">${response.data.title.toUpperCase()}</h2>\n        <div id=\"see-recipes-modal-info-tablet-desktop\">\n         <div id=\"see-recipes-modal-info\">\n        <p id=\"see-recipes-modal-tags\">${response.data.tags.map(tag => `<span>#${tag}</span>`).join('')}</p>\n       <p><span id=\"see-recipes-modal-rating\">${response.data.rating}</span>\n       <span id=\"see-recipes-modal-rating-stars\" class=\"stars\">\n         ${Array.from({ length: 5 }, (_, index) =>\n           index < Math.round(response.data.rating)\n             ? `<img src=\"./public/img/star.png\">`\n             : `<img src=\"./public/img/star-empty.png\">`\n         ).join(\"\")}\n       </span></p>\n        <p id=\"see-recipes-modal-time\">${response.data.time} min</p>\n         </div>\n        </div>\n       <div id=\"see-recipes-modal-info-mobil\">\n       <div id=\"see-recipes-modal-info-rat\">\n       <p><span id=\"see-recipes-modal-rating\">${response.data.rating}</span>\n       <span id=\"see-recipes-modal-rating-stars\" class=\"stars\">\n       ${Array.from({ length: 5 }, (_, index) =>\n         index < Math.round(response.data.rating)\n           ? `<img src=\"./public/img/star.png\">`\n           : `<img src=\"./public/img/star-empty.png\">`\n       ).join(\"\")}\n       </span></p>\n        <p id=\"see-recipes-modal-time\">${response.data.time} min</p>\n           </div>\n        </div>\n       <span class=\"see-recipes-close-btn\">&times;</span>\n       <div id=\"see-recipes-modal-material\">${ingredientsHTML}</div>\n       <div id=\"see-recipes-modal-info-mobil\">\n       <p id=\"see-recipes-modal-tags\">${response.data.tags.map(tag => `<span>#${tag}</span>`).join('')}</p>\n       </div>\n       <p id=\"see-recipes-modal-instructions\">${response.data.instructions}</p>\n    </div>\n     <div id=\"see-recipes-modal-btn\">\n  <button id=\"see-recipes-modal-favorite-btn\">Add to favorite</button>\n  <button id=\"see-recipes-modal-rating-btn\">Give a rating</button>\n    </div>\n  `;\n  \n  seeRecipesContent.innerHTML = modalInnerHTML;\n\n  // const addToFavorites = document.querySelector('#see-recipes-modal-favorite-btn');\n\n  // addToFavorites.addEventListener('click', function () {\n  //   HandleClickHerthIcon();\n  // });\n\n  modal.style.display = 'flex';\n\n  const modalCloseButton = document.querySelector(\".see-recipes-close-btn\");\n  const modalBackground = document.querySelector('#see-recipes-modal');\n  modalCloseButton.addEventListener('click', closeSeeRecipeModal);\n\n  document.addEventListener('keydown', (event) => {\n    if (event.key === \"Escape\") {\n      closeSeeRecipeModal();\n    }\n  });\n\n  modalBackground.addEventListener('click', (event) => {\n    if (event.target === modalBackground) {\n      closeSeeRecipeModal();\n    }\n  });\n\n  function closeSeeRecipeModal() {\n    const modal = document.querySelector('#see-recipes-modal-form');\n    modal.style.display = 'none';\n  }\n\n}","window.global ||= window;","document.addEventListener(\"DOMContentLoaded\", () => {\n    const themeToggle = document.querySelector(\".switch input\");\n\n    if (localStorage.getItem(\"theme\") === \"dark\") {\n        document.body.classList.add(\"dark-mode\");\n        themeToggle.checked = true; \n    } else {\n        document.body.classList.remove(\"dark-mode\");\n        themeToggle.checked = false; \n    }\n\n    themeToggle.addEventListener(\"change\", () => {\n        if (themeToggle.checked) {\n            document.body.classList.add(\"dark-mode\");\n            localStorage.setItem(\"theme\", \"dark\");\n        } else {\n            document.body.classList.remove(\"dark-mode\");\n            localStorage.setItem(\"theme\", \"light\");\n        }\n    });\n});\n"],"names":["popularRecipesImg","img","handleClickSeeRecipesButton","event","getRecipeByIdURL","recipeData","axios","embedUrl","makeSeeRecipeModalVisible","recipeID","modal","recpieURL","response","seeRecipesContent","ingredientsHTML","ingredient","modalInnerHTML","tag","_","index","modalCloseButton","modalBackground","closeSeeRecipeModal","themeToggle"],"mappings":"+uBAGA,MAAMA,EAAoB,SAAS,iBAAiB,iBAAiB,EAErEA,EAAkB,QAASC,GAAQ,CACjCA,EAAI,iBAAiB,QAASC,CAA2B,CAC3D,CAAC,EAED,eAAeA,EAA4BC,EAAO,CAEhD,IAAIC,EAAmB,0DAA0DD,EAAM,OAAO,EAAE,GAEhG,MAAME,GADiB,MAAMC,EAAM,IAAIF,CAAgB,GACrB,KAGlC,SAAS,cAAc,4BAA4B,EAAE,UAAYC,EAAW,MAAM,cAGlF,IAAIE,EADaF,EAAW,QACF,QAAQ,WAAY,QAAQ,EAEtD,SAAS,cAAc,0BAA0B,EAAE,UAAY;AAAA,mBAC9CE,CAAQ;AAAA,IAGzB,SAAS,cAAc,yBAAyB,EAAE,UAAYF,EAAW,SACzE,SAAS,cAAc,2BAA2B,EAAE,UAAYA,EAAW,OAC3E,SAAS,cAAc,yBAAyB,EAAE,UAAY,GAAGA,EAAW,IAAI,OAChF,SAAS,cAAc,6BAA6B,EAAE,UAAYA,EAAW,YAAY,KAAK,IAAI,EAClG,SAAS,cAAc,iCAAiC,EAAE,UAAYA,EAAW,YAEnF,CAEO,eAAeG,EAA0BC,EAAU,CACxD,MAAMC,EAAQ,SAAS,cAAc,yBAAyB,EAExDC,EAAY,0DADDF,CACmE,GAC9EG,EAAW,MAAMN,EAAM,IAAIK,CAAS,EACpCE,EAAoB,SAAS,cAAc,4BAA4B,EAG7E,IAAIN,EADaK,EAAS,KAAK,QACL,QAAQ,WAAY,QAAQ,EAItD,MAAME,EAAkBF,EAAS,KAAK,YAAY,IAAIG,GAC7C;AAAA;AAAA,wCAE6BA,EAAW,IAAI;AAAA,0CACbA,EAAW,OAAO;AAAA;AAAA,KAGzD,EAAE,KAAK,EAAE,EAEJC,EACJ;AAAA,yDACqDJ,EAAS,KAAK,MAAM,YAAW,CAAE;AAAA;AAAA,yBAEjEL,CAAQ;AAAA;AAAA,+CAEcK,EAAS,KAAK,MAAM,YAAW,CAAE;AAAA;AAAA;AAAA,yCAGvCA,EAAS,KAAK,KAAK,IAAIK,GAAO,UAAUA,CAAG,SAAS,EAAE,KAAK,EAAE,CAAC;AAAA,gDACvDL,EAAS,KAAK,MAAM;AAAA;AAAA,WAEzD,MAAM,KAAK,CAAE,OAAQ,CAAG,EAAE,CAACM,EAAGC,IAC9BA,EAAQ,KAAK,MAAMP,EAAS,KAAK,MAAM,EACnC,oCACA,yCACf,EAAW,KAAK,EAAE,CAAC;AAAA;AAAA,yCAEsBA,EAAS,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gDAKXA,EAAS,KAAK,MAAM;AAAA;AAAA,SAE3D,MAAM,KAAK,CAAE,OAAQ,CAAG,EAAE,CAACM,EAAGC,IAC9BA,EAAQ,KAAK,MAAMP,EAAS,KAAK,MAAM,EACnC,oCACA,yCACb,EAAS,KAAK,EAAE,CAAC;AAAA;AAAA,yCAEwBA,EAAS,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA,8CAIbE,CAAe;AAAA;AAAA,wCAErBF,EAAS,KAAK,KAAK,IAAIK,GAAO,UAAUA,CAAG,SAAS,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA,gDAEtDL,EAAS,KAAK,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQxEC,EAAkB,UAAYG,EAQ9BN,EAAM,MAAM,QAAU,OAEtB,MAAMU,EAAmB,SAAS,cAAc,wBAAwB,EAClEC,EAAkB,SAAS,cAAc,oBAAoB,EACnED,EAAiB,iBAAiB,QAASE,CAAmB,EAE9D,SAAS,iBAAiB,UAAYnB,GAAU,CAC1CA,EAAM,MAAQ,UAChBmB,GAEN,CAAG,EAEDD,EAAgB,iBAAiB,QAAUlB,GAAU,CAC/CA,EAAM,SAAWkB,GACnBC,GAEN,CAAG,EAED,SAASA,GAAsB,CAC7B,MAAMZ,EAAQ,SAAS,cAAc,yBAAyB,EAC9DA,EAAM,MAAM,QAAU,MACvB,CAEH,CCpIA,OAAO,SAAP,OAAO,OAAW,QCAlB,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMa,EAAc,SAAS,cAAc,eAAe,EAEtD,aAAa,QAAQ,OAAO,IAAM,QAClC,SAAS,KAAK,UAAU,IAAI,WAAW,EACvCA,EAAY,QAAU,KAEtB,SAAS,KAAK,UAAU,OAAO,WAAW,EAC1CA,EAAY,QAAU,IAG1BA,EAAY,iBAAiB,SAAU,IAAM,CACrCA,EAAY,SACZ,SAAS,KAAK,UAAU,IAAI,WAAW,EACvC,aAAa,QAAQ,QAAS,MAAM,IAEpC,SAAS,KAAK,UAAU,OAAO,WAAW,EAC1C,aAAa,QAAQ,QAAS,OAAO,EAEjD,CAAK,CACL,CAAC"}